import React, { useEffect, useState } from 'react'
import { HighLightText } from './HighLightText'
import { HomePageExplore } from '../../../data/homepage-explore'


export const ExploreMore = () => {

  const [currentValue, setCurrentValue] = useState("Free");
  const [cardArr, setCardArr] = useState([]);
  const [selectedCard, setSelectedCard] = useState(null);
  
  useEffect(()=>{
    // Returns the value of the first element in the array where predicate is true, and undefined otherwise.

    const selectedCategory = HomePageExplore.find((element) => (element.tag === currentValue));
    console.log("selectedCategory is :",selectedCategory);
    setCardArr(selectedCategory.courses);

    // Returns the elements of an array that meet the condition specified in a callback function.

    // const selectedCategory = HomePageExplore.filter((element)=> element.tag === currentValue);
    // // console.log("selectedCategory is :", selectedCategory);
    // setCardArr(selectedCategory[0].courses);
  }, [currentValue])

  return (<div className='flex flex-col items-center relative'>
    <div className='text-4xl text-white'>Unlock the <HighLightText text={"Power of Code"}/></div>
    <div className='text-richblack-300 mt-4'>
        Learn to Build Anything You Can Imagine
    </div>
    <div className='flex mt-10 mb-[290px] gap-6 bg-richblack-700 rounded-full items-center py-1 px-1'>
        {
            HomePageExplore.map((element, index)=>{
                return (<div className={`${currentValue === element.tag 
                    ? "bg-richblack-900 text-white px-6 py-3 rounded-full"
                    : "text-richblack-300"} px-6 py-3`} key={index} onClick={() => {setCurrentValue(element.tag)}}>
                        {element.tag}
                </div>)
            })
        }
    </div>

    <div className='flex w-[1096px] h-[300px] max-w-[10/12] justify-evenly gap-5 mt-16 absolute top-44'>
    {
        cardArr.map((course, index) => {
            return (<div key={index}>
                <div onClick={()=>{setSelectedCard(course)}} 
                className={`${selectedCard === course ? "bg-white" :"bg-richblack-800"} w-[340px] h-[300px] flex flex-col justify-evenly relative z-30`}>
                <div className='h-[240px] px-6 flex flex-col justify-evenly'>
                    <div className={`text-xl ${selectedCard === course ? "text-richblack-800" : "text-white"}`}>{course.heading}</div>
                    <div className='text-base text-richblack-400'>{course.description}</div>
                </div>

                <div className='w-[340px] border border-dashed border-richblack-50'></div>

                <div className={`flex justify-between py-4 px-6 ${selectedCard === course ? "text-blue-300" : "text-richblack-400"}`}>
                    <div className='flex items-center gap-2'>
                        {
                            selectedCard === course 
                            ? <svg width="18" height="16" viewBox="0 0 18 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M6 6C7.65685 6 9 4.65685 9 3C9 1.34315 7.65685 0 6 0C4.34315 0 3 1.34315 3 3C3 4.65685 4.34315 6 6 6Z" fill="#0F7A9D"/>
                            <path d="M13.5 7C14.8807 7 16 5.88071 16 4.5C16 3.11929 14.8807 2 13.5 2C12.1193 2 11 3.11929 11 4.5C11 5.88071 12.1193 7 13.5 7Z" fill="#0F7A9D"/>
                            <path d="M0.61528 14.428C0.217975 14.1736 -0.0121527 13.721 0.0460496 13.2529C0.414158 10.292 2.93944 8 5.9999 8C9.06036 8 11.5856 10.2914 11.9537 13.2522C12.012 13.7203 11.7818 14.1729 11.3845 14.4273C9.83022 15.4225 7.98243 16 5.9999 16C4.01737 16 2.16959 15.4231 0.61528 14.428Z" fill="#0F7A9D"/>
                            <path d="M13.5001 14C13.4647 14 13.4295 13.9998 13.3943 13.9993C13.4631 13.7025 13.4822 13.3885 13.4423 13.0671C13.2668 11.6562 12.7001 10.367 11.854 9.31165C12.3646 9.11049 12.9208 9 13.5028 9C15.4426 9 17.0956 10.2273 17.7279 11.9478C17.8638 12.3176 17.7045 12.7241 17.3671 12.9275C16.2379 13.6083 14.9147 14 13.5001 14Z" fill="#0F7A9D"/>
                            </svg> 
                            : <svg width="19" height="16" viewBox="0 0 19 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M6.33398 6C7.99084 6 9.33398 4.65685 9.33398 3C9.33398 1.34315 7.99084 0 6.33398 0C4.67713 0 3.33398 1.34315 3.33398 3C3.33398 4.65685 4.67713 6 6.33398 6Z" fill="#6E727F"/>
                            <path d="M13.834 7C15.2147 7 16.334 5.88071 16.334 4.5C16.334 3.11929 15.2147 2 13.834 2C12.4533 2 11.334 3.11929 11.334 4.5C11.334 5.88071 12.4533 7 13.834 7Z" fill="#6E727F"/>
                            <path d="M0.949264 14.428C0.55196 14.1736 0.321832 13.721 0.380034 13.2529C0.748142 10.292 3.27342 8 6.33388 8C9.39434 8 11.9196 10.2914 12.2877 13.2522C12.3459 13.7203 12.1158 14.1729 11.7185 14.4273C10.1642 15.4225 8.31642 16 6.33388 16C4.35136 16 2.50357 15.4231 0.949264 14.428Z" fill="#6E727F"/>
                            <path d="M13.834 14C13.7987 14 13.7635 13.9998 13.7283 13.9993C13.7971 13.7025 13.8162 13.3885 13.7762 13.0671C13.6008 11.6562 13.0341 10.367 12.188 9.31165C12.6986 9.11049 13.2548 9 13.8368 9C15.7765 9 17.4296 10.2273 18.0619 11.9478C18.1978 12.3176 18.0385 12.7241 17.7011 12.9275C16.5719 13.6083 15.2487 14 13.834 14Z" fill="#6E727F"/>
                            </svg>
                        }

                        {course.level}
                    </div>                               
                    <div className='flex items-center gap-2'>
                        {
                            selectedCard === course 
                            ? <svg width="19" height="18" viewBox="0 0 19 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <g clip-path="url(#clip0_11167_18357)">
                            <path d="M16.834 13.6382V13.5002C16.8328 12.506 16.4373 11.5528 15.7343 10.8498C15.0313 10.1468 14.0782 9.75136 13.084 9.75017H10.084V8.93267C11.1965 8.74461 12.1978 8.14547 12.8895 7.25396C13.5811 6.36246 13.9126 5.24367 13.8182 4.11929C13.7239 2.99491 13.2106 1.94701 12.38 1.18325C11.5495 0.419487 10.4623 -0.00439453 9.33399 -0.00439453C8.20566 -0.00439453 7.1185 0.419487 6.28796 1.18325C5.45742 1.94701 4.94411 2.99491 4.84975 4.11929C4.75539 5.24367 5.08688 6.36246 5.77851 7.25396C6.47014 8.14547 7.47144 8.74461 8.58399 8.93267V9.75017H5.58399C4.58979 9.75136 3.63666 10.1468 2.93365 10.8498C2.23065 11.5528 1.83518 12.506 1.83399 13.5002V13.6382C1.33358 13.8151 0.911823 14.1632 0.643265 14.621C0.374708 15.0788 0.276639 15.6168 0.366392 16.14C0.456146 16.6631 0.727942 17.1376 1.13374 17.4797C1.53955 17.8219 2.05322 18.0095 2.58399 18.0095C3.11475 18.0095 3.62843 17.8219 4.03423 17.4797C4.44004 17.1376 4.71183 16.6631 4.80159 16.14C4.89134 15.6168 4.79327 15.0788 4.52471 14.621C4.25616 14.1632 3.8344 13.8151 3.33399 13.6382V13.5002C3.33399 12.9034 3.57104 12.3311 3.993 11.9092C4.41496 11.4872 4.98725 11.2502 5.58399 11.2502H8.58399V13.6382C8.08358 13.8151 7.66182 14.1632 7.39327 14.621C7.12471 15.0788 7.02664 15.6168 7.11639 16.14C7.20615 16.6631 7.47794 17.1376 7.88375 17.4797C8.28955 17.8219 8.80322 18.0095 9.33399 18.0095C9.86476 18.0095 10.3784 17.8219 10.7842 17.4797C11.19 17.1376 11.4618 16.6631 11.5516 16.14C11.6413 15.6168 11.5433 15.0788 11.2747 14.621C11.0062 14.1632 10.5844 13.8151 10.084 13.6382V11.2502H13.084C13.6807 11.2502 14.253 11.4872 14.675 11.9092C15.0969 12.3311 15.334 12.9034 15.334 13.5002V13.6382C14.8336 13.8151 14.4118 14.1632 14.1433 14.621C13.8747 15.0788 13.7766 15.6168 13.8664 16.14C13.9561 16.6631 14.2279 17.1376 14.6337 17.4797C15.0395 17.8219 15.5532 18.0095 16.084 18.0095C16.6148 18.0095 17.1284 17.8219 17.5342 17.4797C17.94 17.1376 18.2118 16.6631 18.3016 16.14C18.3913 15.6168 18.2933 15.0788 18.0247 14.621C17.7562 14.1632 17.3344 13.8151 16.834 13.6382Z" fill="#0F7A9D"/>
                            </g>
                            <defs>
                            <clipPath id="clip0_11167_18357">
                            <rect width="18" height="18" fill="white" transform="translate(0.333984)"/>
                            </clipPath>
                            </defs>
                            </svg>
                            :<svg width="19" height="18" viewBox="0 0 19 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M17.168 13.6382V13.5002C17.1668 12.506 16.7713 11.5528 16.0683 10.8498C15.3653 10.1468 14.4122 9.75136 13.418 9.75017H10.418V8.93267C11.5305 8.74461 12.5318 8.14547 13.2235 7.25396C13.9151 6.36246 14.2466 5.24367 14.1522 4.11929C14.0579 2.99491 13.5445 1.94701 12.714 1.18325C11.8835 0.419487 10.7963 -0.00439453 9.66797 -0.00439453C8.53964 -0.00439453 7.45249 0.419487 6.62195 1.18325C5.79141 1.94701 5.27809 2.99491 5.18374 4.11929C5.08938 5.24367 5.42086 6.36246 6.11249 7.25396C6.80412 8.14547 7.80543 8.74461 8.91797 8.93267V9.75017H5.91797C4.92378 9.75136 3.97064 10.1468 3.26764 10.8498C2.56464 11.5528 2.16916 12.506 2.16797 13.5002V13.6382C1.66756 13.8151 1.24581 14.1632 0.97725 14.621C0.708692 15.0788 0.610623 15.6168 0.700377 16.14C0.79013 16.6631 1.06193 17.1376 1.46773 17.4797C1.87353 17.8219 2.38721 18.0095 2.91797 18.0095C3.44874 18.0095 3.96242 17.8219 4.36822 17.4797C4.77402 17.1376 5.04582 16.6631 5.13557 16.14C5.22532 15.6168 5.12726 15.0788 4.8587 14.621C4.59014 14.1632 4.16838 13.8151 3.66797 13.6382V13.5002C3.66797 12.9034 3.90503 12.3311 4.32698 11.9092C4.74894 11.4872 5.32124 11.2502 5.91797 11.2502H8.91797V13.6382C8.41756 13.8151 7.99581 14.1632 7.72725 14.621C7.45869 15.0788 7.36062 15.6168 7.45038 16.14C7.54013 16.6631 7.81193 17.1376 8.21773 17.4797C8.62353 17.8219 9.13721 18.0095 9.66797 18.0095C10.1987 18.0095 10.7124 17.8219 11.1182 17.4797C11.524 17.1376 11.7958 16.6631 11.8856 16.14C11.9753 15.6168 11.8773 15.0788 11.6087 14.621C11.3401 14.1632 10.9184 13.8151 10.418 13.6382V11.2502H13.418C14.0147 11.2502 14.587 11.4872 15.009 11.9092C15.4309 12.3311 15.668 12.9034 15.668 13.5002V13.6382C15.1676 13.8151 14.7458 14.1632 14.4773 14.621C14.2087 15.0788 14.1106 15.6168 14.2004 16.14C14.2901 16.6631 14.5619 17.1376 14.9677 17.4797C15.3735 17.8219 15.8872 18.0095 16.418 18.0095C16.9487 18.0095 17.4624 17.8219 17.8682 17.4797C18.274 17.1376 18.5458 16.6631 18.6356 16.14C18.7253 15.6168 18.6273 15.0788 18.3587 14.621C18.0901 14.1632 17.6684 13.8151 17.168 13.6382Z" fill="#6E727F"/>
                            </svg>
                        }

                        {course.lessionNumber} Lessons
                    </div>     
                </div>

                </div>
                <div className={`relative bottom-72 left-3 ${selectedCard === course ? "block" : "hidden"}`}>
                    <div className='w-[340px] h-[300px] bg-yellow-50 z-10'></div>
                </div>
            </div>)
        })
                    
    }
    </div>
  </div>)
}
